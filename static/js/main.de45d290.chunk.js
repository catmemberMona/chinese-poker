(this["webpackJsonpchinese-poker"]=this["webpackJsonpchinese-poker"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(17),a=n.n(c),o=(n(33),n(6)),s=(n(34),n(1)),l={gameInfo:{flex:.8,justifyContent:"center"},heading:{fontSize:"1.2em",fontWeight:700,color:"tan",margin:".5em",alignSelf:"start",background:"rgba(38, 63, 38, 0.7)",borderBottomRightRadius:10,padding:10}},d=function(){return Object(s.jsx)("div",{style:l.gameInfo,children:Object(s.jsx)("h1",{style:l.heading,children:"Elemental Poker"})})},u=n(3),f=n(51),j={cardContent:{flex:1,flexDirection:"column",border:"1px black solid",margin:3,padding:3,backgroundColor:"white"},name:{flex:1,alignItems:"center"},nameTop:{justifyContent:"flex-start"},nameBottom:{justifyContent:"flex-end"},element:{flex:5,justifyContent:"center",alignItems:"center"}},h=function(e){var t=e.cardSize,n=e.card;return Object(s.jsx)(f.a,{style:Object(u.a)(Object(u.a)({},t),{},{backgroundColor:n.isSelected?"orange":"white"}),raised:!0,children:Object(s.jsxs)("div",{style:j.cardContent,children:[Object(s.jsx)("div",{style:j.name&&j.nameTop,children:n.name}),Object(s.jsx)("div",{style:j.element,children:n.type}),Object(s.jsx)("div",{style:(j.name,j.nameBottom),children:n.name})]})})},b=n(4),O=function(){var e=Object(b.c)((function(e){return e.table.cards}));return Object(s.jsx)("div",{style:y.cards,children:e.map((function(e){return Object(s.jsx)(h,{cardSize:y.card,cardInner:y.cardInner,card:e},e.id)}))})},y={table:{flex:1},cards:{flex:1,justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap"},card:{height:"20vw",width:"12vw",minWidth:90,minHeight:140,margin:1},cardInner:{flex:1,margin:5}},g=function(){return Object(s.jsx)("div",{style:y.table,children:Object(s.jsx)(O,{})})},p="SET_FIRST_GAME_TO_FALSE",m="TOGGLE_IN_GAME",v="ASSIGN_AS_PLAYERS_TURN",x="ASSIGN_AS_COMPUTERS_TURN",S=function(){return{type:m}},C=function(){return{type:x}},E={isFirstGame:!0,isInPlay:!1,isPlayersTurn:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(u.a)(Object(u.a)({},e),{},{isFirstGame:!1});case m:return Object(u.a)(Object(u.a)({},e),{},{isInPlay:!e.isInPlay});case v:return Object(u.a)(Object(u.a)({},e),{},{isPlayersTurn:!0});case x:return Object(u.a)(Object(u.a)({},e),{},{isPlayersTurn:!1});default:return e}},T=n(8),R="ADD_SELECTED_CARD",P="REMOVE_SELECTED_CARD",A="GET_INITIAL_HAND",_="REMOVE_SELECTED_CARDS_AFTER_PLACING_THEM",w=function(e){return{type:_,cards:e}},L={hand:[],cardsLeft:0,cardsSelected:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(u.a)(Object(u.a)({},e),{},{hand:Object(T.a)(t.stack),cardsLeft:t.stack.length});case R:return Object(u.a)(Object(u.a)({},e),{},{cardsSelected:[].concat(Object(T.a)(e.cardsSelected),[t.card])});case P:e.cardsSelected.indexOf(t.card);var n=e.cardsSelected.filter((function(e){return e.id!==t.card.id}));return Object(u.a)(Object(u.a)({},e),{},{cardsSelected:Object(T.a)(n)});case _:var r=e.hand.filter((function(e){return!t.cards.includes(e)}));return Object(u.a)(Object(u.a)({},e),{},{hand:Object(T.a)(r),cardsLeft:r.length,cardsSelected:[]});default:return e}},D="GET_INITIAL_HAND_FOR_COMPUTER",N="REMOVE_SELECTED_CARDS_AFTER_PLACING_THEM_FOR_COMPUTER",M={hand:[],cardsLeft:0,cardsSelected:[]},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(u.a)(Object(u.a)({},e),{},{hand:Object(T.a)(t.stack),cardsLeft:t.stack.length});case N:var n=e.hand.filter((function(e){return!t.cards.includes(e)}));return Object(u.a)(Object(u.a)({},e),{},{hand:Object(T.a)(n),cardsLeft:n.length,cardsSelected:[]});default:return e}},F=n(19),G="GET_PLACED_DOWN_CARDS",H="REMOVE_ALL_CARDS",U=function(){return{type:H}},B={cards:[],groupType:"",sumPriority:0,highestCardId:0,totalCards:0},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(u.a)({},t.cardsStat);case H:return Object(u.a)({},B);default:return e}},Y="RESET",V=Object(F.a)({game:I,table:z,player:k,computer:W}),J=function(e,t){return t.type===Y?V(void 0,t):V(e,t)},K={air:"air",water:"water",earth:"earth",fire:"fire"},Q={3:{image:"3",priority:1},4:{image:"4",priority:2},5:{image:"5",priority:3},6:{image:"6",priority:4},7:{image:"7",priority:5},8:{image:"8",priority:6},9:{image:"9",priority:7},10:{image:"10",priority:8},J:{image:"J",priority:9},Q:{image:"Q",priority:10},K:{image:"K",priority:11},A:{image:"A",priority:12},2:{image:"2",priority:13}};function q(){this.id=0,this.name="",this.priority=0,this.nameImage="",this.type="",this.typePriority=0,this.typeImage="",this.isSelected=!1}var X=function(){for(var e=[],t=0,n=Object.entries(K);t<n.length;t++)for(var r=Object(o.a)(n[t],2),i=r[0],c=r[1],a=void 0,s=0,l=Object.entries(Q);s<l.length;s++){var d=Object(o.a)(l[s],2),u=d[0],f=d[1];switch((a=new q).name=u,a.priority=f.priority,a.nameImage=f.image,a.type=i,a.typeImage=c,i){case"air":a.typePriority=.4;break;case"water":a.typePriority=.3;break;case"earth":a.typePriority=.2;break;default:a.typePriority=.1}a.id=a.priority+a.typePriority,e.push(a)}return e},Z=function(){var e=Object(b.c)((function(e){return e.player.cardsLeft})),t=Object(b.c)((function(e){return e.computer.cardsLeft}));return Object(s.jsxs)("div",{style:$.playersInfo,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)(f.a,{style:$.card,raised:!0,children:Object(s.jsx)("p",{children:t})}),Object(s.jsx)("p",{style:$.playerName,children:"Amber the Computer"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)(f.a,{style:$.card,raised:!0,children:Object(s.jsx)("p",{children:e})}),Object(s.jsx)("p",{style:$.playerName,children:"You"})]})]})},$={roundInfo:{flex:.9,flexDirection:"column"},playersInfo:{flex:1,flexDirection:"column",paddingTop:".5em",paddingRight:".5em"},card:{margin:5,marginLeft:8,minWidth:30,maxHeight:50,justifyContent:"center"},playerName:{fontSize:".8em",fontWeight:600,color:"tan",margin:"auto",padding:5,minWidth:"6.5em",background:"rgba(38, 63, 38, 0.7)",borderBottomLeftRadius:5,borderBottomRightRadius:5},controls:{flex:1.3,marginTop:"1em",flexDirection:"column",alignItems:"center"},buttons:{width:100,height:50,borderRadius:8,margin:5},reshuffle:{width:100,height:50,borderRadius:8,margin:5}},ee=function(){var e=Object(b.c)((function(e){return e.game})),t=e.isFirstGame,n=e.isInPlay,r=Object(b.b)(),i=function(){t&&r({type:p}),r(S());var e,n=function(e){for(var t=[],n=0;n<e.length/2;n++){var r=-1;do{r=Math.floor(Math.random()*e.length)}while(t.includes(r));t.push(r)}t.sort((function(e,t){return e-t}));for(var i=[],c=[],a=0,o=0;o<e.length;o++)t[a]===o?(i.push(e[o]),a+=1):c.push(e[o]);return[i,c]}(X()),i=Object(o.a)(n,2),c=i[0],a=i[1];r((e=a.sort((function(e,t){return e.id-t.id})),{type:A,stack:e})),r(function(e){return{type:D,stack:e}}(c.sort((function(e,t){return e.id-t.id}))))};return Object(s.jsxs)("div",{style:$.roundInfo,children:[Object(s.jsx)(Z,{}),Object(s.jsxs)("div",{style:$.controls,children:[Object(s.jsx)("button",{style:Object(u.a)(Object(u.a)({},$.buttons),{},{visibility:"".concat(n?"hidden":"visible")}),onClick:i,children:t?"Start Game":"Play Again"}),Object(s.jsx)("button",{style:Object(u.a)(Object(u.a)({},$.buttons),{},{visibility:"".concat(n?"visible":"hidden")}),onClick:function(){r({type:Y}),i()},children:"Reshuffle"})]})]})},te={board:{flex:16,flexDirection:"row"},gameInfo:{flex:.8},table:{flex:4.4,alignContent:"center",justifyContent:"center"},roundInfo:{flex:.8,justifyContent:"flex-end"}},ne=function(){return Object(s.jsxs)("div",{style:te.board,children:[Object(s.jsx)("div",{style:te.gameInfo,children:Object(s.jsx)(d,{})}),Object(s.jsx)("div",{style:te.table,children:Object(s.jsx)(g,{})}),Object(s.jsx)("div",{style:te.roundInfo,children:Object(s.jsx)(ee,{})})]})},re=n(10),ie=function(e,t){if(!t)return[e[0]];for(var n=0;n<e.length;n++)if(e[n].id>t)return[e[n]];return[]};var ce=new function(){this.playWithNoConditions=function(e){return ie(e)},this.playWithConditions=function(e,t){switch(e.groupType){case"single":return ie(t,e.highestCardId);case"double":return function(e,t){var n,r={},i=Object(re.a)(e);try{for(i.s();!(n=i.n()).done;){var c=n.value;r[c.name]?(r[c.name].count+=1,r[c.name].cards.push(c)):r[c.name]={count:1,cards:[c]}}}catch(d){i.e(d)}finally{i.f()}for(var a=[],o=0,s=Object.entries(r);o<s.length;o++){var l=s[o][1].cards;l[l.length-1].id>t&&(a=[l[l.length-2],l[l.length-1]])}return a}(t,e.highestCardId);default:return[]}},this.computerPlays=function(e,t,n){var r=[];0===(r=0===e.cards.length?this.playWithNoConditions(t):this.playWithConditions(e,t)).length?n(U()):setTimeout((function(){console.log("PREVIOUSLY GOT AN ERROR HERE BECAUSE OF NO PRIORITY FOR THESE CARDS:",r);var e=le(r),t=r[r.length-1];de(n,r,e,t),n(function(e){return{type:N,cards:e}}(r))}),1e3),t.length-r.length===0&&n(S()),n({type:v})}},ae=function(e){var t,n=0,r=Object(re.a)(e);try{for(r.s();!(t=r.n()).done;){n+=t.value.priority}}catch(i){r.e(i)}finally{r.f()}return n},oe=function(e){for(var t=0;t<e.length-1;t++)if(e[t].priority+1!==e[t+1].priority)return!1;return!0},se=function(e){var t,n=e[0].type,r=Object(re.a)(e);try{for(r.s();!(t=r.n()).done;){if(t.value.type!==n)return!1}}catch(i){r.e(i)}finally{r.f()}return!0},le=function(e){if(1===e.length)return"single";if(2===e.length&&e[0].priority===e[1].priority)return"double";if(5===e.length){if(se(e)&&oe(e))return"straight flush";var t=function(e){var t,n={},r=0,i=Object(re.a)(e);try{for(i.s();!(t=i.n()).done;){var c=t.value;if(n[c.name]?n[c.name]+=1:(n[c.name]=1,r+=1),r>2)return!1}}catch(o){i.e(o)}finally{i.f()}var a=Object.values(n);return 1===a[0]||4===a[0]?"four of a kind":2===a[0]||3===a[0]?"full house":void 0}(e);if(!1!==t)return t;if(se(e))return"flush";if(oe(e))return"straight"}return!1},de=function(e,t,n,r){var i={cards:t,groupType:n,sumPriority:ae(t),highestCardId:r.id,totalCards:t.length};e({type:G,cardsStat:i})},ue={buttons:{width:100,height:35,borderRadius:8,margin:3}},fe=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.player.cardsLeft})),n=Object(b.c)((function(e){return e.player.cardsSelected}));n.sort((function(e,t){return e.priority-t.priority}));var r=n.length,i=Object(b.c)((function(e){return e.computer.hand})),c=Object(b.c)((function(e){return e.table})),a=c.totalCards,o=c.highestCardId,l=c.groupType,d=Object(b.c)((function(e){return e.game.isPlayersTurn})),f=Object(b.c)((function(e){return e.game.isInPlay}));!d&&f&&(console.log("THIS IS NOW THE COMPUTERS TURN"),ce.computerPlays(c,i,e)),console.log("CARDS ON TABLE:",a);return Object(s.jsx)("button",{style:Object(u.a)(Object(u.a)({},ue.buttons),{},{display:"".concat(f?"block":"none")}),onClick:function(){if(0!==r&&!(r>5||4===r||3===r)){var i=le(n);if(!1!==i){var c=0;if("full house"===i||"four of a kind"===i?function(e){var t,n={},r=Object(re.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.name]?n[i.name]+=1:n[i.name]=1}}catch(o){r.e(o)}finally{r.f()}var c=Object.entries(n),a=(c[0][1]>c[1][1]?c[0][0]:c[1][0],e.filter((function(e){return e.name===n})));a[a.length-1]}(c=n):c=n[n.length-1],0===a&&(de(e,n,i,c),e(w(n)),e(C()),console.log("PLAYER PLAYED CARDS AFTER COMPUTER PASSED")),i!==l){if("single"===i||"double"===i)return;if("single"===l||"double"===l)return}if(i!==l){var s={"straight flushing":5,"for of a kind":4,"full house":3,flush:2,straight:1};if(s[i]<s[l])return;de(e,n,i,c),e(w(n))}else{if(!(c.id>o))return;de(e,n,i,c),e(w(n))}e(0!==t?C():S())}}},children:"Place"})},je=function(){return Object(s.jsx)("div",{style:be.message,children:Object(s.jsx)("p",{style:be.text,children:"This is your turn. Select and place your card(s)."})})},he=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.computer.hand})),n=Object(b.c)((function(e){return e.table})),r=Object(b.c)((function(e){return e.game.isPlayersTurn})),i=Object(b.c)((function(e){return e.game.isInPlay}));!r&&i&&(console.log("THIS IS NOW THE COMPUTERS TURN"),ce.computerPlays(n,t,e));return Object(s.jsxs)("div",{style:be.choice,children:[Object(s.jsx)(fe,{}),Object(s.jsx)("button",{style:Object(u.a)(Object(u.a)({},be.buttons),{},{display:"".concat(i?"block":"none")}),onClick:function(){e(U()),e(C())},children:"Pass"})]})},be={turn:{flex:1,flexWrap:"wrap"},message:{flex:6,paddingLeft:"20vw",justifyContent:"center",alignItems:"center"},choice:{flex:2,justifyContent:"space-evenly"},text:{fontSize:"2vh",fontWeight:600,color:"brown"},buttons:{width:100,height:35,borderRadius:8,margin:3}},Oe=function(){return Object(s.jsxs)("div",{style:be.turn,children:[Object(s.jsx)(je,{}),Object(s.jsx)(he,{})]})},ye=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.player.hand})),n=Object(b.c)((function(e){return e.player.cardsSelected})),r=function(t){n.includes(t)?(t.isSelected=!1,e(function(e){return{type:P,card:e}}(t))):(t.isSelected=!0,e(function(e){return{type:R,card:e}}(t)))};return Object(s.jsx)("div",{style:ge.cards,children:Object(s.jsx)("ul",{style:{flex:1},children:t.map((function(e){return Object(s.jsx)("li",{style:Object(u.a)(Object(u.a)({},ge.item),{},{marginTop:e.isSelected?-10:0,marginBottom:e.isSelected?10:0}),onClick:function(){return r(e)},children:Object(s.jsx)(h,{cardSize:ge.card,cardInner:ge.cardInner,card:e})},e.id)}))})})},ge={hand:{flex:5,flexDirection:"row",background:"rgba(38, 63, 38, 0.7)",overflow:"hidden"},cards:{flex:1,justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap",marginLeft:"1.5em",marginRight:"1em",paddingTop:"1em"},item:{background:"rgba(0, 0, 0, 0)",flex:1},card:{height:"10vw",width:"7.5vw",minWidth:68,minHeight:90}},pe=function(){return Object(s.jsx)("div",{style:ge.hand,children:Object(s.jsx)(ye,{})})},me={player:{flex:10,flexDirection:"column"}},ve=function(){return Object(s.jsxs)("div",{style:me.player,children:[Object(s.jsx)(Oe,{}),Object(s.jsx)(pe,{})]})};var xe={app:{flex:1,flexDirection:"column",height:"100vh",width:"100vw"}},Se=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=(t[0],t[1],Object(r.useState)(!1)),i=Object(o.a)(n,2),c=(i[0],i[1],Object(r.useState)({cards:[],totalCards:0})),a=Object(o.a)(c,2),l=(a[0],a[1],Object(r.useState)({cards:[],totalCards:0})),d=Object(o.a)(l,2),u=(d[0],d[1],Object(r.useState)([])),f=Object(o.a)(u,2);return f[0],f[1],Object(s.jsxs)("div",{className:"App",style:xe.app,children:[Object(s.jsx)(ne,{}),Object(s.jsx)(ve,{})]})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))},Ee=Object(F.b)(J);a.a.render(Object(s.jsx)(b.a,{store:Ee,children:Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(Se,{})})}),document.getElementById("root")),Ce()}},[[39,1,2]]]);
//# sourceMappingURL=main.de45d290.chunk.js.map