(this["webpackJsonpchinese-poker"]=this["webpackJsonpchinese-poker"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(17),a=n.n(c),s=(n(33),n(6)),o=(n(34),n(1)),l={gameInfo:{flex:.8,justifyContent:"center"},heading:{fontSize:"1.2em",fontWeight:700,color:"tan",margin:".5em",alignSelf:"start",background:"rgba(38, 63, 38, 0.7)",borderBottomRightRadius:10,padding:10}},u=function(){return Object(o.jsx)("div",{style:l.gameInfo,children:Object(o.jsx)("h1",{style:l.heading,children:"Elemental Poker"})})},d=n(3),f=n(51),h={cardContent:{flex:1,flexDirection:"column",border:"1px black solid",margin:3,padding:3,backgroundColor:"white"},name:{flex:1,alignItems:"center"},nameTop:{justifyContent:"flex-start"},nameBottom:{justifyContent:"flex-end"},element:{flex:5,justifyContent:"center",alignItems:"center"}},b=function(e){var t=e.cardSize,n=e.card;return Object(o.jsx)(f.a,{style:Object(d.a)(Object(d.a)({},t),{},{backgroundColor:n.isSelected?"orange":"white"}),raised:!0,children:Object(o.jsxs)("div",{style:h.cardContent,children:[Object(o.jsx)("div",{style:h.name&&h.nameTop,children:n.name}),Object(o.jsx)("div",{style:h.element,children:n.type}),Object(o.jsx)("div",{style:(h.name,h.nameBottom),children:n.name})]})})},j=n(4),y=function(){var e=Object(j.c)((function(e){return e.table.cards}));return Object(o.jsx)("div",{style:O.cards,children:e.map((function(e){return Object(o.jsx)(b,{cardSize:O.card,cardInner:O.cardInner,card:e},e.id)}))})},O={table:{flex:1},cards:{flex:1,justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap"},card:{height:"20vw",width:"12vw",minWidth:90,minHeight:140,margin:1},cardInner:{flex:1,margin:5}},g=function(){return Object(o.jsx)("div",{style:O.table,children:Object(o.jsx)(y,{})})},m="SET_FIRST_GAME_TO_FALSE",p="TOGGLE_IN_GAME",v="ASSIGN_AS_PLAYERS_TURN",x="ASSIGN_AS_COMPUTERS_TURN",S=function(){return{type:p}},C=function(){return{type:x}},T={isFirstGame:!0,isInPlay:!1,isPlayersTurn:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),{},{isFirstGame:!1});case p:return Object(d.a)(Object(d.a)({},e),{},{isInPlay:!e.isInPlay});case v:return Object(d.a)(Object(d.a)({},e),{},{isPlayersTurn:!0});case x:return Object(d.a)(Object(d.a)({},e),{},{isPlayersTurn:!1});default:return e}},I=n(9),R="ADD_SELECTED_CARD",P="REMOVE_SELECTED_CARD",A="GET_INITIAL_HAND",_="REMOVE_SELECTED_CARDS_AFTER_PLACING_THEM",w="UPDATE_MESSAGE",k=function(e){return{type:_,cards:e}},L=function(e){return{type:w,text:e}},D={hand:[],cardsLeft:0,cardsSelected:[],message:"Press Start Game"},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(d.a)(Object(d.a)({},e),{},{hand:Object(I.a)(t.stack),cardsLeft:t.stack.length});case R:return Object(d.a)(Object(d.a)({},e),{},{cardsSelected:[].concat(Object(I.a)(e.cardsSelected),[t.card])});case P:e.cardsSelected.indexOf(t.card);var n=e.cardsSelected.filter((function(e){return e.id!==t.card.id}));return Object(d.a)(Object(d.a)({},e),{},{cardsSelected:Object(I.a)(n)});case _:var r=e.hand.filter((function(e){return!t.cards.includes(e)}));return Object(d.a)(Object(d.a)({},e),{},{hand:Object(I.a)(r),cardsLeft:r.length,cardsSelected:[]});case w:return Object(d.a)(Object(d.a)({},e),{},{message:t.text});default:return e}},F="GET_INITIAL_HAND_FOR_COMPUTER",G="REMOVE_SELECTED_CARDS_AFTER_PLACING_THEM_FOR_COMPUTER",W={hand:[],cardsLeft:0,cardsSelected:[]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(d.a)(Object(d.a)({},e),{},{hand:Object(I.a)(t.stack),cardsLeft:t.stack.length});case G:var n=e.hand.filter((function(e){return!t.cards.includes(e)}));return Object(d.a)(Object(d.a)({},e),{},{hand:Object(I.a)(n),cardsLeft:n.length,cardsSelected:[]});default:return e}},H=n(19),U="GET_PLACED_DOWN_CARDS",B="REMOVE_ALL_CARDS",z=function(){return{type:B}},V={cards:[],groupType:"",sumPriority:0,highestCardId:0,totalCards:0},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(d.a)({},t.cardsStat);case B:return Object(d.a)({},V);default:return e}},J="RESET",K=Object(H.a)({game:E,table:Y,player:N,computer:M}),Q=function(e,t){return t.type===J?K(void 0,t):K(e,t)},q={air:"air",water:"water",earth:"earth",fire:"fire"},X={3:{image:"3",priority:1},4:{image:"4",priority:2},5:{image:"5",priority:3},6:{image:"6",priority:4},7:{image:"7",priority:5},8:{image:"8",priority:6},9:{image:"9",priority:7},10:{image:"10",priority:8},J:{image:"J",priority:9},Q:{image:"Q",priority:10},K:{image:"K",priority:11},A:{image:"A",priority:12},2:{image:"2",priority:13}};function Z(){this.id=0,this.name="",this.priority=0,this.nameImage="",this.type="",this.typePriority=0,this.typeImage="",this.isSelected=!1}var $=function(){for(var e=[],t=0,n=Object.entries(q);t<n.length;t++)for(var r=Object(s.a)(n[t],2),i=r[0],c=r[1],a=void 0,o=0,l=Object.entries(X);o<l.length;o++){var u=Object(s.a)(l[o],2),d=u[0],f=u[1];switch((a=new Z).name=d,a.priority=f.priority,a.nameImage=f.image,a.type=i,a.typeImage=c,i){case"air":a.typePriority=.4;break;case"water":a.typePriority=.3;break;case"earth":a.typePriority=.2;break;default:a.typePriority=.1}a.id=a.priority+a.typePriority,e.push(a)}return e},ee=function(){var e=Object(j.c)((function(e){return e.player.cardsLeft})),t=Object(j.c)((function(e){return e.computer.cardsLeft}));return Object(o.jsxs)("div",{style:te.playersInfo,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)(f.a,{style:te.card,raised:!0,children:Object(o.jsx)("p",{children:t})}),Object(o.jsx)("p",{style:te.playerName,children:"Amber the Computer"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)(f.a,{style:te.card,raised:!0,children:Object(o.jsx)("p",{children:e})}),Object(o.jsx)("p",{style:te.playerName,children:"You"})]})]})},te={roundInfo:{flex:.9,flexDirection:"column"},playersInfo:{flex:1,flexDirection:"column",paddingTop:".5em",paddingRight:".5em"},card:{margin:5,marginLeft:8,minWidth:30,maxHeight:50,justifyContent:"center"},playerName:{fontSize:".8em",fontWeight:600,color:"tan",margin:"auto",padding:5,minWidth:"6.5em",background:"rgba(38, 63, 38, 0.7)",borderBottomLeftRadius:5,borderBottomRightRadius:5},controls:{flex:1.3,marginTop:"1em",flexDirection:"column",alignItems:"center"},buttons:{width:100,height:50,borderRadius:8,margin:5},reshuffle:{width:100,height:50,borderRadius:8,margin:5}},ne=function(){var e=Object(j.c)((function(e){return e.game})),t=e.isFirstGame,n=e.isInPlay,r=Object(j.b)(),i=function(){t&&r({type:m}),r(S());var e,n=function(e){for(var t=[],n=0;n<e.length/2;n++){var r=-1;do{r=Math.floor(Math.random()*e.length)}while(t.includes(r));t.push(r)}t.sort((function(e,t){return e-t}));for(var i=[],c=[],a=0,s=0;s<e.length;s++)t[a]===s?(i.push(e[s]),a+=1):c.push(e[s]);return[i,c]}($()),i=Object(s.a)(n,2),c=i[0],a=i[1];r((e=a.sort((function(e,t){return e.id-t.id})),{type:A,stack:e})),r(function(e){return{type:F,stack:e}}(c.sort((function(e,t){return e.id-t.id})))),r(L("The computer started first. Select and place your card(s)."))};return Object(o.jsxs)("div",{style:te.roundInfo,children:[Object(o.jsx)(ee,{}),Object(o.jsxs)("div",{style:te.controls,children:[Object(o.jsx)("button",{style:Object(d.a)(Object(d.a)({},te.buttons),{},{visibility:"".concat(n?"hidden":"visible")}),onClick:i,children:t?"Start Game":"Play Again"}),Object(o.jsx)("button",{style:Object(d.a)(Object(d.a)({},te.buttons),{},{visibility:"".concat(n?"visible":"hidden")}),onClick:function(){r({type:J}),i()},children:"Reshuffle"})]})]})},re={board:{flex:16,flexDirection:"row"},gameInfo:{flex:.8},table:{flex:4.4,alignContent:"center",justifyContent:"center"},roundInfo:{flex:.8,justifyContent:"flex-end"}},ie=function(){return Object(o.jsxs)("div",{style:re.board,children:[Object(o.jsx)("div",{style:re.gameInfo,children:Object(o.jsx)(u,{})}),Object(o.jsx)("div",{style:re.table,children:Object(o.jsx)(g,{})}),Object(o.jsx)("div",{style:re.roundInfo,children:Object(o.jsx)(ne,{})})]})},ce=n(8),ae=function(e,t){if(!t)return[e[0]];for(var n=0;n<e.length;n++)if(e[n].id>t)return[e[n]];return[]};var se=new function(){this.playWithNoConditions=function(e){return ae(e)},this.playWithConditions=function(e,t){switch(e.groupType){case"single":return ae(t,e.highestCardId);case"double":return function(e,t){var n,r={},i=Object(ce.a)(e);try{for(i.s();!(n=i.n()).done;){var c=n.value;r[c.name]?(r[c.name].count+=1,r[c.name].cards.push(c)):r[c.name]={count:1,cards:[c]}}}catch(d){i.e(d)}finally{i.f()}var a,s=Object.entries(r).filter((function(e){return e[1].count>1})),o=[],l=Object(ce.a)(s);try{for(l.s();!(a=l.n()).done;){var u=a.value[1].cards;u[u.length-1].id>t&&(o=[u[u.length-2],u[u.length-1]])}}catch(d){l.e(d)}finally{l.f()}return o}(t,e.highestCardId);default:return[]}},this.computerPlays=function(e,t,n){var r=[];0===(r=0===e.cards.length?this.playWithNoConditions(t):this.playWithConditions(e,t)).length?setTimeout((function(){n(z())}),2e3):setTimeout((function(){console.log("PREVIOUSLY GOT AN ERROR HERE BECAUSE OF NO PRIORITY FOR THESE CARDS:",r);var e=de(r),t=r[r.length-1];fe(n,r,e,t),n(function(e){return{type:G,cards:e}}(r))}),1e3),t.length-r.length===0&&(n(S()),n(L("The computer won! Play Again?"))),0===r.length&&n(L("The computer passed it's turn. Place any valid card(s).")),n({type:v})}},oe=function(e){var t,n=0,r=Object(ce.a)(e);try{for(r.s();!(t=r.n()).done;){n+=t.value.priority}}catch(i){r.e(i)}finally{r.f()}return n},le=function(e){for(var t=0;t<e.length-1;t++)if(e[t].priority+1!==e[t+1].priority)return!1;return!0},ue=function(e){var t,n=e[0].type,r=Object(ce.a)(e);try{for(r.s();!(t=r.n()).done;){if(t.value.type!==n)return!1}}catch(i){r.e(i)}finally{r.f()}return!0},de=function(e){if(1===e.length)return"single";if(2===e.length&&e[0].priority===e[1].priority)return"double";if(5===e.length){if(ue(e)&&le(e))return"straight flush";var t=function(e){var t,n={},r=0,i=Object(ce.a)(e);try{for(i.s();!(t=i.n()).done;){var c=t.value;if(n[c.name]?n[c.name]+=1:(n[c.name]=1,r+=1),r>2)return!1}}catch(s){i.e(s)}finally{i.f()}var a=Object.values(n);return 1===a[0]||4===a[0]?"four of a kind":2===a[0]||3===a[0]?"full house":void 0}(e);if(!1!==t)return t;if(ue(e))return"flush";if(le(e))return"straight"}return!1},fe=function(e,t,n,r){var i={cards:t,groupType:n,sumPriority:oe(t),highestCardId:r.id,totalCards:t.length};e({type:U,cardsStat:i})},he={buttons:{width:100,height:35,borderRadius:8,margin:3}},be=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.player.cardsLeft})),n=Object(j.c)((function(e){return e.player.cardsSelected}));n.sort((function(e,t){return e.priority-t.priority}));var r=n.length,i=Object(j.c)((function(e){return e.computer.hand})),c=Object(j.c)((function(e){return e.table})),a=c.totalCards,s=c.highestCardId,l=c.groupType,u=Object(j.c)((function(e){return e.game.isPlayersTurn})),f=Object(j.c)((function(e){return e.game.isInPlay}));!u&&f&&(console.log("THIS IS NOW THE COMPUTERS TURN"),se.computerPlays(c,i,e)),console.log("CARDS ON TABLE:",a);return Object(o.jsx)("button",{style:Object(d.a)(Object(d.a)({},he.buttons),{},{display:"".concat(f?"block":"none")}),onClick:function(){if(0!==r)if(r>5||4===r||3===r)e(L("An invalid number of cards were selected"));else{var i=de(n);if(!1!==i){var c=0;if("full house"===i||"four of a kind"===i?function(e){var t,n={},r=Object(ce.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.name]?n[i.name]+=1:n[i.name]=1}}catch(s){r.e(s)}finally{r.f()}var c=Object.entries(n),a=(c[0][1]>c[1][1]?c[0][0]:c[1][0],e.filter((function(e){return e.name===n})));a[a.length-1]}(c=n):c=n[n.length-1],0===a&&(fe(e,n,i,c),e(k(n)),e(C())),i!==l){if("single"===i||"double"===i)return;if("single"===l||"double"===l)return}if(i!==l){var o={"straight flushing":5,"for of a kind":4,"full house":3,flush:2,straight:1};if(o[i]<o[l])return;fe(e,n,i,c),e(k(n))}else{if(!(c.id>s))return void e(L("The card combination you selected is of a lower rank than the one on the table."));fe(e,n,i,c),e(k(n))}if(0===t)return e(S()),void e(L("You Won! Play Again?"));e(C()),e(L(""))}else e(L("This is not a possible combination. Possible combinations are: Single, Double, Straight, Flush, Full House, Four Of A Kind, or Straight Flush."))}else e(L("No cards are selected. Select card(s) or pass your turn."))},children:"Place"})},je=function(){var e=Object(j.c)((function(e){return e.player.message}));return Object(o.jsx)("div",{style:Oe.message,children:Object(o.jsx)("p",{style:Oe.text,children:e})})},ye=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.computer.hand})),n=Object(j.c)((function(e){return e.table})),r=Object(j.c)((function(e){return e.game.isPlayersTurn})),i=Object(j.c)((function(e){return e.game.isInPlay}));!r&&i&&(console.log("THIS IS NOW THE COMPUTERS TURN"),se.computerPlays(n,t,e));return Object(o.jsxs)("div",{style:Oe.choice,children:[Object(o.jsx)(be,{}),Object(o.jsx)("button",{style:Object(d.a)(Object(d.a)({},Oe.buttons),{},{display:"".concat(i?"block":"none")}),onClick:function(){e(z()),e(C())},children:"Pass"})]})},Oe={turn:{flex:1,flexWrap:"wrap"},message:{flex:6,paddingLeft:"20vw",justifyContent:"center",alignItems:"center"},choice:{flex:2,justifyContent:"space-evenly"},text:{fontSize:"2vh",fontWeight:600,color:"brown"},buttons:{width:100,height:35,borderRadius:8,margin:3}},ge=function(){return Object(o.jsxs)("div",{style:Oe.turn,children:[Object(o.jsx)(je,{}),Object(o.jsx)(ye,{})]})},me=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.player.hand})),n=Object(j.c)((function(e){return e.player.cardsSelected})),r=function(t){n.includes(t)?(t.isSelected=!1,e(function(e){return{type:P,card:e}}(t))):(t.isSelected=!0,e(function(e){return{type:R,card:e}}(t)))};return Object(o.jsx)("div",{style:pe.cards,children:Object(o.jsx)("ul",{style:{flex:1},children:t.map((function(e){return Object(o.jsx)("li",{style:Object(d.a)(Object(d.a)({},pe.item),{},{marginTop:e.isSelected?-10:0,marginBottom:e.isSelected?10:0}),onClick:function(){return r(e)},children:Object(o.jsx)(b,{cardSize:pe.card,cardInner:pe.cardInner,card:e})},e.id)}))})})},pe={hand:{flex:5,flexDirection:"row",background:"rgba(38, 63, 38, 0.7)",overflow:"hidden"},cards:{flex:1,justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap",marginLeft:"1.5em",marginRight:"1em",paddingTop:"1em"},item:{background:"rgba(0, 0, 0, 0)",flex:1},card:{height:"10vw",width:"7.5vw",minWidth:68,minHeight:90}},ve=function(){return Object(o.jsx)("div",{style:pe.hand,children:Object(o.jsx)(me,{})})},xe={player:{flex:10,flexDirection:"column"}},Se=function(){return Object(o.jsxs)("div",{style:xe.player,children:[Object(o.jsx)(ge,{}),Object(o.jsx)(ve,{})]})};var Ce={app:{flex:1,flexDirection:"column",height:"100vh",width:"100vw"}},Te=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=(t[0],t[1],Object(r.useState)(!1)),i=Object(s.a)(n,2),c=(i[0],i[1],Object(r.useState)({cards:[],totalCards:0})),a=Object(s.a)(c,2),l=(a[0],a[1],Object(r.useState)({cards:[],totalCards:0})),u=Object(s.a)(l,2),d=(u[0],u[1],Object(r.useState)([])),f=Object(s.a)(d,2);return f[0],f[1],Object(o.jsxs)("div",{className:"App",style:Ce.app,children:[Object(o.jsx)(ie,{}),Object(o.jsx)(Se,{})]})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))},Ie=Object(H.b)(Q);a.a.render(Object(o.jsx)(j.a,{store:Ie,children:Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(Te,{})})}),document.getElementById("root")),Ee()}},[[39,1,2]]]);
//# sourceMappingURL=main.38c3ca30.chunk.js.map